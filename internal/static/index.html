<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>smartLattes</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
</head>
<body>
    <nav class="navbar">
        <a href="/" class="navbar-brand">smart<span>Lattes</span></a>
        <ul class="navbar-nav">
            <li><a href="/upload">Enviar CV</a></li>
            <li><a href="/resumo">Gerar Resumo</a></li>
            <li><a href="/visualizar-resumo">Visualizar Resumo</a></li>
            <li><a href="/analise">Analisar Rela&ccedil;&otilde;es</a></li>
            <li><a href="/visualizar-relacoes">Visualizar Rela&ccedil;&otilde;es</a></li>
            <li><a href="/chatlattes">chatLattes</a></li>
        </ul>
    </nav>

    <main class="main-content">
        <section class="hero">
            <h1>Gerencie seus dados Lattes</h1>
            <p>Importe seu Curriculum Vitae da Plataforma Lattes e armazene seus dados de forma estruturada para consulta e an&aacute;lise.</p>
            <a href="/upload" class="btn btn-primary">Enviar Curriculum Vitae</a>
            <p style="margin-top: 1rem;">
                <a href="#" class="help-link" id="open-xml-help">Como exportar meu Lattes em XML?</a>
            </p>
        </section>

        <div class="stats-highlight">
            <div class="card stat-card">
                <span class="stat-icon" aria-hidden="true">&#128218;</span>
                <span class="stat-number" id="cv-count">--</span>
                <span class="stat-label">curr&iacute;culos na base de dados</span>
            </div>
        </div>

        <div class="features">
            <div class="card feature-card">
                <span class="feature-icon" aria-hidden="true">&#128228;</span>
                <h3>Enviar CV</h3>
                <p>Envie seu arquivo XML exportado da Plataforma Lattes com apenas alguns cliques.</p>
            </div>
            <div class="card feature-card">
                <span class="feature-icon" aria-hidden="true">&#129302;</span>
                <h3>Gerar Resumo</h3>
                <p>Gere resumos anal&iacute;ticos de pesquisadores utilizando intelig&ecirc;ncia artificial.</p>
            </div>
            <div class="card feature-card">
                <span class="feature-icon" aria-hidden="true">&#128196;</span>
                <h3>Visualizar Resumo</h3>
                <p>Consulte resumos j&aacute; gerados e fa&ccedil;a download em Markdown.</p>
            </div>
            <div class="card feature-card">
                <span class="feature-icon" aria-hidden="true">&#128279;</span>
                <h3>Analisar Rela&ccedil;&otilde;es</h3>
                <p>Identifique redes de pesquisa e oportunidades de colabora&ccedil;&atilde;o interdisciplinar.</p>
            </div>
            <div class="card feature-card">
                <span class="feature-icon" aria-hidden="true">&#128269;</span>
                <h3>Visualizar Rela&ccedil;&otilde;es</h3>
                <p>Consulte an&aacute;lises de rela&ccedil;&otilde;es j&aacute; geradas e fa&ccedil;a download.</p>
            </div>
            <div class="card feature-card">
                <span class="feature-icon" aria-hidden="true">&#128172;</span>
                <h3>chatLattes</h3>
                <p>Converse com a base de curr&iacute;culos usando intelig&ecirc;ncia artificial.</p>
            </div>
        </div>
    </main>

    <div id="xml-help-modal" class="modal-overlay">
        <div class="modal">
            <h3>Como exportar seu Curr&iacute;culo Lattes em XML</h3>
            <p class="modal-intro">A op&ccedil;&atilde;o de exporta&ccedil;&atilde;o fica um pouco escondida nos &iacute;cones laterais da plataforma. Siga os passos abaixo:</p>
            <ol>
                <li><strong>Acesse</strong> <a href="https://lattes.cnpq.br" target="_blank">lattes.cnpq.br</a> e clique em &ldquo;Atualizar Curr&iacute;culo&rdquo;.</li>
                <li><strong>Fa&ccedil;a login</strong> com seu CPF e senha.</li>
                <li><strong>Localize o &iacute;cone Exportar</strong> no menu de &iacute;cones do lado direito da tela.</li>
                <li><strong>Clique em Exportar</strong> &mdash; &eacute; o &iacute;cone de uma caixa com seta para a direita.</li>
                <li><strong>Escolha &ldquo;Formato XML do Curr&iacute;culo Lattes&rdquo;</strong> e clique em Confirmar.</li>
                <li><strong>Salve o arquivo .zip</strong> gerado no seu computador.</li>
            </ol>
            <button type="button" class="btn btn-primary modal-close" id="close-xml-help">Entendido</button>
        </div>
    </div>

    <footer class="site-footer">
        <p>Desenvolvido por <strong>Eduardo Dalcin</strong> &mdash; <a href="https://github.com/edalcin/smartLattes" target="_blank">GitHub</a></p>
    </footer>

    <script>
    fetch('/api/stats').then(function(r){return r.json()}).then(function(d){
        if(d.success) document.getElementById('cv-count').textContent=d.count;
    }).catch(function(){});

    (function(){
        var modal = document.getElementById('xml-help-modal');
        document.getElementById('open-xml-help').addEventListener('click', function(e){
            e.preventDefault();
            modal.classList.add('visible');
        });
        document.getElementById('close-xml-help').addEventListener('click', function(){
            modal.classList.remove('visible');
        });
        modal.addEventListener('click', function(e){
            if(e.target === modal) modal.classList.remove('visible');
        });
    })();
    </script>
</body>
</html>
